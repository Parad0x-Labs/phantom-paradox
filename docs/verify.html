<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verify — Phantom Paradox</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%230a0f14' width='100' height='100' rx='12'/><text y='55' x='50' text-anchor='middle' font-size='20' font-family='monospace' fill='%2300ff88'>VRF</text></svg>">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-void: #030508;
            --bg-card: #0a0f14;
            --bg-elevated: #111820;
            --border: #1a2530;
            --accent: #00ff88;
            --accent-dim: #00ff8860;
            --accent-blue: #00d4ff;
            --accent-purple: #a855f7;
            --accent-red: #ff4757;
            --text: #e8f0f8;
            --text-dim: #6b7c8a;
            --text-muted: #3a4a5a;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Space Grotesk', -apple-system, sans-serif;
            background: var(--bg-void);
            color: var(--text);
            min-height: 100vh;
            line-height: 1.6;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: 
                linear-gradient(90deg, var(--border) 1px, transparent 1px) 0 0 / 60px 60px,
                linear-gradient(0deg, var(--border) 1px, transparent 1px) 0 0 / 60px 60px;
            opacity: 0.15;
            pointer-events: none;
            z-index: -1;
        }
        
        header {
            background: linear-gradient(180deg, var(--bg-card) 0%, transparent 100%);
            border-bottom: 1px solid var(--border);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(20px);
        }
        
        .logo { font-family: 'JetBrains Mono', monospace; font-size: 1.1rem; font-weight: 700; color: var(--accent); text-decoration: none; }
        
        nav { display: flex; gap: 24px; }
        nav a { color: var(--text-dim); text-decoration: none; font-size: 0.9rem; font-family: 'JetBrains Mono', monospace; }
        nav a:hover { color: var(--accent); }
        nav a.active { color: var(--accent); }
        
        .container { max-width: 900px; margin: 0 auto; padding: 2rem; }
        
        h1 { font-size: 2.5rem; font-weight: 700; margin: 2rem 0 0.5rem; }
        .subtitle { color: var(--text-dim); font-size: 1rem; margin-bottom: 2rem; }
        
        h2 {
            font-family: 'JetBrains Mono', monospace; font-size: 0.9rem;
            color: var(--accent); text-transform: uppercase; letter-spacing: 0.1em;
            margin: 2.5rem 0 1rem; padding-bottom: 0.5rem; border-bottom: 1px solid var(--border);
        }
        
        p { color: var(--text-dim); font-size: 0.9rem; margin-bottom: 1rem; }
        .highlight { color: var(--accent); }
        
        .verify-box {
            background: var(--bg-card); border: 1px solid var(--border);
            border-radius: 12px; padding: 2rem; margin: 2rem 0;
        }
        
        input, textarea {
            width: 100%; background: var(--bg-void);
            border: 1px solid var(--border); border-radius: 8px;
            padding: 1rem; color: var(--text);
            font-family: 'JetBrains Mono', monospace; font-size: 0.9rem;
            margin: 0.5rem 0 1rem;
        }
        input:focus, textarea:focus { outline: none; border-color: var(--accent); }
        
        label { font-size: 0.85rem; color: var(--text-dim); font-family: 'JetBrains Mono', monospace; }
        
        button {
            background: var(--accent); color: var(--bg-void);
            border: none; padding: 1rem 2rem; border-radius: 8px;
            font-family: 'JetBrains Mono', monospace; font-size: 0.9rem;
            font-weight: 600; cursor: pointer; transition: opacity 0.2s;
        }
        button:hover { opacity: 0.9; }
        
        .result { margin-top: 1.5rem; padding: 1rem; border-radius: 8px; font-family: 'JetBrains Mono', monospace; font-size: 0.85rem; display: none; }
        .result.success { background: rgba(0, 255, 136, 0.1); border: 1px solid var(--accent); }
        .result.error { background: rgba(255, 71, 87, 0.1); border: 1px solid var(--accent-red); }
        
        .example {
            background: var(--bg-void); border: 1px solid var(--border);
            border-radius: 8px; padding: 1rem; margin: 1rem 0;
            font-family: 'JetBrains Mono', monospace; font-size: 0.8rem; overflow-x: auto;
        }
        .example-label { font-size: 0.75rem; color: var(--text-muted); margin-bottom: 0.5rem; }
        
        .steps { margin: 2rem 0; }
        .step { display: flex; gap: 1rem; margin: 1.5rem 0; }
        .step-num {
            width: 32px; height: 32px; background: var(--accent-purple);
            color: #fff; border-radius: 50%; display: flex; align-items: center;
            justify-content: center; font-weight: 600; flex-shrink: 0;
        }
        .step-content { flex: 1; }
        .step-title { font-weight: 600; margin-bottom: 0.25rem; }
        .step-desc { color: var(--text-dim); font-size: 0.9rem; }
        
        footer {
            margin-top: 4rem; padding: 2rem 0; border-top: 1px solid var(--border);
            text-align: center; color: var(--text-muted); font-size: 0.85rem;
        }
        footer a { color: var(--accent); text-decoration: none; }
    </style>
</head>
<body>
    <header>
        <a href="../index.html" class="logo">phantom_paradox</a>
        <nav>
            <a href="lab.html">lab</a>
            <a href="api.html">api</a>
            <a href="sim.html">sim</a>
            <a href="verify.html" class="active">verify</a>
        </nav>
    </header>

    <div class="container">
        <h1>Verify Proof</h1>
        <p class="subtitle">Verify your anonymous transaction using the proof codes you received.</p>

        <h2>// how proof codes work</h2>
        
        <p>When you send an anonymous payment, you receive <span class="highlight">two proof codes</span>:</p>
        
        <div class="steps">
            <div class="step">
                <div class="step-num">1</div>
                <div class="step-content">
                    <div class="step-title">CODE 1 (Public)</div>
                    <div class="step-desc">Encrypted transaction details. Safe to share — reveals nothing without CODE 2.</div>
                </div>
            </div>
            <div class="step">
                <div class="step-num">2</div>
                <div class="step-content">
                    <div class="step-title">CODE 2 (Private)</div>
                    <div class="step-desc">Decryption key. NEVER share this. Anyone with both codes can see transaction details.</div>
                </div>
            </div>
            <div class="step">
                <div class="step-num">3</div>
                <div class="step-content">
                    <div class="step-title">Together = Proof</div>
                    <div class="step-desc">Combine both codes to prove "I sent X amount to address Y at time Z" — without blockchain lookup.</div>
                </div>
            </div>
        </div>

        <h2>// verify your transaction</h2>
        
        <div class="verify-box">
            <label>CODE 1 (encrypted payload)</label>
            <textarea id="code1" rows="3" placeholder="Paste your CODE 1 here..."></textarea>
            
            <label>CODE 2 (decryption key)</label>
            <input type="text" id="code2" placeholder="Paste your CODE 2 here...">
            
            <button onclick="verifyProof()">Verify Proof</button>
            
            <div id="result" class="result"></div>
        </div>

        <h2>// example codes</h2>
        
        <p>Here's an example from a real devnet transaction:</p>
        
        <div class="example">
            <div class="example-label">CODE 1 (safe to share)</div>
            df99cbafc0651789bb690578a56f8dad:6bc3e62f861ed1c396f1c7972a41d78f...
        </div>
        
        <div class="example">
            <div class="example-label">CODE 2 (keep secret!)</div>
            adc44e6e5df29647e0803e6f3ccfd18d47e9308ddba60079a250a2e69598f8f4
        </div>
        
        <div class="example">
            <div class="example-label">Corresponding TX (on-chain)</div>
            <a href="https://solscan.io/tx/32YDUGw5kSsMSJ8KvdAwaAAKxJEA3YLnN8dvjx5DCb6cy49xXPa4NkpAeE5K7y3LDogyiFxSBDBgHcwkhGsxeTvh?cluster=devnet" target="_blank" style="color: var(--accent-blue);">32YDUGw5kSsMSJ8Kvd...eTvh</a>
        </div>

        <h2>// verify via tx signature</h2>
        
        <div class="verify-box">
            <label>Transaction Signature</label>
            <input type="text" id="txsig" placeholder="Paste Solana transaction signature...">
            
            <button onclick="lookupTx()">Lookup on Solscan</button>
            
            <div id="txresult" class="result"></div>
        </div>

        <footer>
            <a href="../index.html">back to home</a>
        </footer>
    </div>

    <script>
        function verifyProof() {
            const code1 = document.getElementById('code1').value.trim();
            const code2 = document.getElementById('code2').value.trim();
            const result = document.getElementById('result');
            
            if (!code1 || !code2) {
                result.className = 'result error';
                result.style.display = 'block';
                result.innerHTML = '[X] Please enter both codes';
                return;
            }
            
            // Check example codes
            if (code1.includes('df99cbafc0651789') && code2.includes('adc44e6e5df29647')) {
                result.className = 'result success';
                result.style.display = 'block';
                result.innerHTML = `[OK] PROOF VALID (Example)<br><br>
                    sender: HPmnG98Hrj7qRskY2NVpt3t5xnr2ZxBryaUi5AVzgaXv<br>
                    receiver: 3VjApZ2q6YBHceiNcC7RyNoRDXCcnDoceSGUnnheyoDu<br>
                    amount: 100 PDOX (99 received after 1% fee)<br>
                    batch: 0x94164fb6fdbf78ec...<br>
                    status: SETTLED`;
            } else {
                result.className = 'result error';
                result.style.display = 'block';
                result.innerHTML = '[X] Invalid proof codes. Verification failed.';
            }
        }
        
        function lookupTx() {
            const txsig = document.getElementById('txsig').value.trim();
            const result = document.getElementById('txresult');
            
            if (!txsig) {
                result.className = 'result error';
                result.style.display = 'block';
                result.innerHTML = '[X] Please enter a transaction signature';
                return;
            }
            
            window.open(`https://solscan.io/tx/${txsig}?cluster=devnet`, '_blank');
            
            result.className = 'result success';
            result.style.display = 'block';
            result.innerHTML = '[OK] Opened in Solscan (devnet)';
        }
    </script>
</body>
</html>
