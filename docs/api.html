<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API â€” Phantom Paradox</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%230a0f14' width='100' height='100' rx='12'/><text y='55' x='50' text-anchor='middle' font-size='24' font-family='monospace' fill='%2300ff88'>API</text></svg>">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-void: #030508;
            --bg-card: #0a0f14;
            --bg-elevated: #111820;
            --border: #1a2530;
            --accent: #00ff88;
            --accent-dim: #00ff8860;
            --accent-blue: #00d4ff;
            --accent-purple: #a855f7;
            --accent-orange: #ff9500;
            --accent-red: #ff4757;
            --text: #e8f0f8;
            --text-dim: #6b7c8a;
            --text-muted: #3a4a5a;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Space Grotesk', -apple-system, sans-serif;
            background: var(--bg-void);
            color: var(--text);
            min-height: 100vh;
            line-height: 1.6;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: 
                linear-gradient(90deg, var(--border) 1px, transparent 1px) 0 0 / 60px 60px,
                linear-gradient(0deg, var(--border) 1px, transparent 1px) 0 0 / 60px 60px;
            opacity: 0.15;
            pointer-events: none;
            z-index: -1;
        }
        
        header {
            background: linear-gradient(180deg, var(--bg-card) 0%, transparent 100%);
            border-bottom: 1px solid var(--border);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(20px);
        }
        
        .logo { font-family: 'JetBrains Mono', monospace; font-size: 1.1rem; font-weight: 700; color: var(--accent); text-decoration: none; }
        
        nav { display: flex; gap: 24px; }
        nav a { color: var(--text-dim); text-decoration: none; font-size: 0.9rem; font-family: 'JetBrains Mono', monospace; }
        nav a:hover { color: var(--accent); }
        nav a.active { color: var(--accent); }
        
        .container { max-width: 1000px; margin: 0 auto; padding: 2rem; }
        
        h1 { font-size: 2.5rem; font-weight: 700; margin: 2rem 0 0.5rem; }
        h1 span { color: var(--accent-purple); }
        .subtitle { color: var(--text-dim); font-size: 1rem; margin-bottom: 2rem; }
        
        h2 {
            font-family: 'JetBrains Mono', monospace; font-size: 0.9rem;
            color: var(--accent); text-transform: uppercase; letter-spacing: 0.1em;
            margin: 3rem 0 1rem; padding-bottom: 0.5rem; border-bottom: 1px solid var(--border);
        }
        
        h3 { font-size: 1rem; color: var(--accent-blue); margin: 1.5rem 0 0.5rem; }
        p { color: var(--text-dim); font-size: 0.9rem; margin-bottom: 1rem; }
        
        .endpoint {
            background: var(--bg-card); border: 1px solid var(--border);
            border-radius: 8px; padding: 1.5rem; margin: 1rem 0;
        }
        
        .endpoint-header { display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem; }
        
        .method {
            background: var(--accent); color: var(--bg-void);
            padding: 0.2rem 0.6rem; border-radius: 4px;
            font-size: 0.75rem; font-weight: 700;
            font-family: 'JetBrains Mono', monospace;
        }
        .method.post { background: var(--accent-blue); }
        
        .url { font-size: 0.9rem; color: var(--text); font-family: 'JetBrains Mono', monospace; }
        
        pre {
            background: var(--bg-void); border: 1px solid var(--border);
            border-radius: 6px; padding: 1rem; overflow-x: auto;
            font-size: 0.8rem; font-family: 'JetBrains Mono', monospace;
            margin: 0.5rem 0;
        }
        
        code { color: var(--accent); }
        
        .note {
            background: rgba(0, 255, 136, 0.05); border-left: 3px solid var(--accent);
            padding: 1rem; margin: 1rem 0; font-size: 0.85rem;
        }
        
        .warn {
            background: rgba(255, 71, 87, 0.1); border-left: 3px solid var(--accent-red);
        }
        
        table { width: 100%; border-collapse: collapse; margin: 1rem 0; font-size: 0.85rem; }
        th, td { padding: 0.75rem; text-align: left; border-bottom: 1px solid var(--border); font-family: 'JetBrains Mono', monospace; }
        th { color: var(--text-dim); font-weight: 400; font-size: 0.75rem; text-transform: uppercase; }
        
        .copy-btn {
            background: var(--bg-elevated); border: 1px solid var(--border);
            color: var(--text-dim); padding: 0.3rem 0.6rem; border-radius: 4px;
            cursor: pointer; font-size: 0.7rem; float: right;
            font-family: 'JetBrains Mono', monospace;
        }
        .copy-btn:hover { background: var(--accent); color: var(--bg-void); border-color: var(--accent); }
        
        .ai-badge {
            display: inline-block; background: linear-gradient(135deg, var(--accent-purple), var(--accent-blue));
            color: white; padding: 0.2rem 0.6rem; border-radius: 4px;
            font-size: 0.7rem; margin-left: 0.5rem; font-family: 'JetBrains Mono', monospace;
        }
        
        footer {
            margin-top: 4rem; padding: 2rem 0; border-top: 1px solid var(--border);
            text-align: center; color: var(--text-muted); font-size: 0.85rem;
        }
        footer a { color: var(--accent); text-decoration: none; }
    </style>
</head>
<body>
    <header>
        <a href="../index.html" class="logo" style="display: flex; align-items: center; gap: 8px;">
            <img src="../assets/null-logo-128.png" alt="NULL" style="width: 32px; height: 32px; border-radius: 6px;">
            phantom_paradox
        </a>
        <nav>
            <a href="lab.html">lab</a>
            <a href="api.html" class="active">api</a>
            <a href="verify.html">verify</a>
        </nav>
    </header>

    <div class="container">
        <h1>// api</h1>
        <p class="subtitle">curl commands to verify stuff. JSON responses. No auth needed.</p>
        
        <div class="note">
            Copy paste these into terminal. If it returns data, it's real. If not, we fucked up.
        </div>
        
        <div class="warn note">
            <strong>Rate Limits:</strong> Public Solana RPC = ~100 req/10s. Hit 429? Wait or use your own RPC.
        </div>
        
        <h2>// constants</h2>
        
        <div class="endpoint">
            <pre><code>PROGRAM_ID = "8jrMsGNM9HwmPU94cotLQCxGu15iW7Mt3WZeggfwvv2x"
PDOX_TOKEN = "4ckvALSiB6Hii7iVY9Dt6LRM5i7xocBZ9yr3YGNtVRwF"
CONFIG_PDA = "HHefAxKZQqaLj3V2Hd9XfTBRPe8av4JTmvE4DWiygER8"
NETWORK    = "devnet"
RPC_URL    = "https://api.devnet.solana.com"</code></pre>
        </div>
        
        <h2>// verification endpoints</h2>
        
        <h3>1. Verify Program Exists</h3>
        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method">GET</span>
                <span class="url">Solana RPC - getAccountInfo</span>
            </div>
            <p>Check if program is deployed and executable.</p>
            <button class="copy-btn" onclick="copyCode('verify-program')">copy</button>
            <pre id="verify-program"><code>curl -X POST https://api.devnet.solana.com -H "Content-Type: application/json" -d '{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "getAccountInfo",
  "params": [
    "8jrMsGNM9HwmPU94cotLQCxGu15iW7Mt3WZeggfwvv2x",
    {"encoding": "base64"}
  ]
}'</code></pre>
            <p><strong>Expected:</strong> <code>executable: true</code>, <code>owner: BPFLoaderUpgradeab1e...</code></p>
        </div>
        
        <h3>2. Verify PDOX Token</h3>
        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method">GET</span>
                <span class="url">Solana RPC - getAccountInfo</span>
            </div>
            <p>Check token exists with Token-2022 program (transfer fee enabled).</p>
            <button class="copy-btn" onclick="copyCode('verify-token')">copy</button>
            <pre id="verify-token"><code>curl -X POST https://api.devnet.solana.com -H "Content-Type: application/json" -d '{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "getAccountInfo",
  "params": [
    "4ckvALSiB6Hii7iVY9Dt6LRM5i7xocBZ9yr3YGNtVRwF",
    {"encoding": "base64"}
  ]
}'</code></pre>
            <p><strong>Expected:</strong> <code>owner: TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb</code> (Token-2022)</p>
        </div>
        
        <h3>3. Fetch Recent Transactions</h3>
        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method">GET</span>
                <span class="url">Solana RPC - getSignaturesForAddress</span>
            </div>
            <p>Get last 10 transactions for the program.</p>
            <button class="copy-btn" onclick="copyCode('recent-txs')">copy</button>
            <pre id="recent-txs"><code>curl -X POST https://api.devnet.solana.com -H "Content-Type: application/json" -d '{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "getSignaturesForAddress",
  "params": [
    "8jrMsGNM9HwmPU94cotLQCxGu15iW7Mt3WZeggfwvv2x",
    {"limit": 10}
  ]
}'</code></pre>
        </div>
        
        <h2>// verified transactions</h2>
        
        <table>
            <tr><th>Type</th><th>Signature</th><th>Date</th></tr>
            <tr><td>Batch Settlement</td><td><code>32YDUGw3BKUG31x...</code></td><td>2025-11-29</td></tr>
            <tr><td>Anonymous Payment</td><td><code>5b1MtoyhEkptTYh...</code></td><td>2025-11-29</td></tr>
            <tr><td>Token Transfer</td><td><code>5QHTuj3wJVjCt3o...</code></td><td>2025-11-30</td></tr>
        </table>
        
        <h2>// merkle verification (javascript)</h2>
        
        <div class="endpoint">
            <button class="copy-btn" onclick="copyCode('merkle-js')">copy</button>
            <pre id="merkle-js"><code>const crypto = require('crypto');

function sha256(data) {
  return crypto.createHash('sha256').update(data).digest('hex');
}

function computeMerkleRoot(leaves) {
  if (leaves.length === 0) return '';
  if (leaves.length === 1) return leaves[0];
  
  const hashedLeaves = leaves.map(l => sha256(l));
  const nextLevel = [];
  
  for (let i = 0; i < hashedLeaves.length; i += 2) {
    const left = hashedLeaves[i];
    const right = hashedLeaves[i + 1] || left;
    nextLevel.push(sha256(left + right));
  }
  
  return computeMerkleRoot(nextLevel);
}

// Test with sample intents
const intents = [
  '{"from":"wallet1","to":"wallet2","amount":100}',
  '{"from":"wallet3","to":"wallet4","amount":50}',
];

console.log('Merkle Root:', computeMerkleRoot(intents));</code></pre>
        </div>
        
        <h2>// quick verify script</h2>
        
        <div class="endpoint">
            <p>One-liner to verify program is live:</p>
            <button class="copy-btn" onclick="copyCode('quick-verify')">copy</button>
            <pre id="quick-verify"><code># Bash - verify program exists
curl -s -X POST https://api.devnet.solana.com \
  -H "Content-Type: application/json" \
  -d '{"jsonrpc":"2.0","id":1,"method":"getAccountInfo","params":["8jrMsGNM9HwmPU94cotLQCxGu15iW7Mt3WZeggfwvv2x",{"encoding":"base64"}]}' \
  | jq '.result.value.executable'

# Expected output: true</code></pre>
        </div>
        
        <div class="warn note">
            <strong>Limitations:</strong>
            <ul style="margin-top: 0.5rem; padding-left: 1.5rem; color: var(--text-dim);">
                <li>This is DEVNET - not production/mainnet</li>
                <li>Benchmarks are from controlled tests, not organic load</li>
                <li>Anonymity is statistical mixing, not ZK proofs</li>
            </ul>
        </div>

        <footer>
            <a href="../index.html">back to home</a>
        </footer>
    </div>
    
    <script>
        function copyCode(id) {
            const code = document.getElementById(id).innerText;
            navigator.clipboard.writeText(code);
            event.target.innerText = 'copied!';
            setTimeout(() => event.target.innerText = 'copy', 1500);
        }
    </script>
</body>
</html>
